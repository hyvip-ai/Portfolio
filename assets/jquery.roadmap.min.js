!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,n,a){"use strict";e.fn.roadmap=function(n,a){!n instanceof Array&&(n=[]);var i={slide:1,eventsPerSlide:6,rootClass:"roadmap",prevArrow:"prev",nextArrow:"next",orientation:"auto",onBuild:e.noop,eventTemplate:'<div class="event"><div class="event__date">####DATE###</div><div class="event__content">####CONTENT###</div></div>'},r=e.extend({},i,a),s=function(t,n){var a='<li class="'+r.rootClass+'__events__event">'+r.eventTemplate+"</li>";a=a.replace("####DATE###",t.date),a=a.replace("####CONTENT###",t.content);var i=100/(r.eventsPerSlide-1)*n;return e(a).css("left",i+"%")};return this.each(function(){var a=this,i=e(this),o=r.slide-1;i.data({events:n,settings:r,currentSlide:o}).addClass(r.rootClass);var l=function(){i.removeClass(r.rootClass+"--initialized"),i.find("."+r.rootClass+"__events").remove(),i.find("."+r.rootClass+"__navigation").remove()},d=function(){var t=i.data("currentSlide"),n=i.data("settings"),r=i.data("events");e("<ol/>",{"class":n.rootClass+"__events"}).append(r.slice(t*n.eventsPerSlide,(t+1)*n.eventsPerSlide).map(s)).appendTo(a)},c=function(){var t=i.data("currentSlide"),s=function(a){switch(a){case"prev":if(t>0)return e('<li><a href="#" class="'+a+'">'+r.prevArrow+"</a></li>");break;case"next":if((t+1)*r.eventsPerSlide<n.length)return e('<li><a href="#" class="'+a+'">'+r.nextArrow+"</a></li>")}return e("<li></li>")};e("<ul/>",{"class":r.rootClass+"__navigation"}).append(["prev","next"].map(s)).appendTo(a)},u=function(){var e=function(){switch(r.orientation){case"horizontal":case"vertical":case"auto":return r.orientation}return"auto"};i.addClass(r.rootClass+"--orientation-"+e())},v=function(){l(),d(),c(),u(),setTimeout(function(){i.addClass(r.rootClass+"--initialized"),r.onBuild&&r.onBuild.call(null)},100)};v(),e("body").on("click","."+r.rootClass+" ."+r.rootClass+"__navigation li > *",function(t){if(t.preventDefault(),e(this).hasClass("prev")){var a=i.data("currentSlide");if(a<1)return!1;i.data({events:n,settings:r,currentSlide:a-1}),v()}else{var a=i.data("currentSlide");if((a+1)*r.eventsPerSlide>=n.length)return!1;i.data({events:n,settings:r,currentSlide:a+1}),v()}}),e(t).on("resize",function(){i.removeClass(r.rootClass+"--initialized"),v()})})}});